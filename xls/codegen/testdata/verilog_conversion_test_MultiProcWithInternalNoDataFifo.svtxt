`include "fifo.v"

module pipelined_proc__1(
  input wire clk,
  input wire rst,
  input wire in_vld,
  input wire internal_rdy,
  output wire in_rdy,
  output wire internal_vld
);
  reg __in_valid_reg;
  reg __internal_valid_reg;
  reg p1_inputs_valid;
  wire internal_valid_inv;
  wire internal_valid_load_en;
  wire internal_load_en;
  wire not_165;
  wire stage_outputs_valid_1;
  wire stage_outputs_ready_0;
  wire and_171;
  wire in_valid_inv;
  wire in_valid_load_en;
  wire in_load_en;
  wire or_185;
  assign internal_valid_inv = ~__internal_valid_reg;
  assign internal_valid_load_en = internal_rdy | internal_valid_inv;
  assign internal_load_en = p1_inputs_valid & internal_valid_load_en;
  assign not_165 = ~p1_inputs_valid;
  assign stage_outputs_valid_1 = p1_inputs_valid & internal_load_en;
  assign stage_outputs_ready_0 = not_165 | stage_outputs_valid_1;
  assign and_171 = __in_valid_reg & stage_outputs_ready_0;
  assign in_valid_inv = ~__in_valid_reg;
  assign in_valid_load_en = and_171 | in_valid_inv;
  assign in_load_en = in_vld & in_valid_load_en;
  assign or_185 = and_171 | stage_outputs_valid_1;
  always_ff @ (posedge clk) begin
    if (rst) begin
      __in_valid_reg <= 1'h0;
      __internal_valid_reg <= 1'h0;
      p1_inputs_valid <= 1'h0;
    end else begin
      __in_valid_reg <= in_valid_load_en ? in_vld : __in_valid_reg;
      __internal_valid_reg <= internal_valid_load_en ? p1_inputs_valid : __internal_valid_reg;
      p1_inputs_valid <= or_185 ? and_171 : p1_inputs_valid;
    end
  end
  assign in_rdy = in_load_en;
  assign internal_vld = __internal_valid_reg;
endmodule


module proc_out(
  input wire clk,
  input wire rst,
  input wire internal_vld,
  input wire out_rdy,
  output wire internal_rdy,
  output wire out_vld
);
  reg __internal_valid_reg;
  reg __out_valid_reg;
  reg p1_inputs_valid;
  wire out_valid_inv;
  wire out_valid_load_en;
  wire out_load_en;
  wire not_218;
  wire stage_outputs_valid_1;
  wire stage_outputs_ready_0;
  wire and_224;
  wire internal_valid_inv;
  wire internal_valid_load_en;
  wire internal_load_en;
  wire or_238;
  assign out_valid_inv = ~__out_valid_reg;
  assign out_valid_load_en = out_rdy | out_valid_inv;
  assign out_load_en = p1_inputs_valid & out_valid_load_en;
  assign not_218 = ~p1_inputs_valid;
  assign stage_outputs_valid_1 = p1_inputs_valid & out_load_en;
  assign stage_outputs_ready_0 = not_218 | stage_outputs_valid_1;
  assign and_224 = __internal_valid_reg & stage_outputs_ready_0;
  assign internal_valid_inv = ~__internal_valid_reg;
  assign internal_valid_load_en = and_224 | internal_valid_inv;
  assign internal_load_en = internal_vld & internal_valid_load_en;
  assign or_238 = and_224 | stage_outputs_valid_1;
  always_ff @ (posedge clk) begin
    if (rst) begin
      __internal_valid_reg <= 1'h0;
      __out_valid_reg <= 1'h0;
      p1_inputs_valid <= 1'h0;
    end else begin
      __internal_valid_reg <= internal_valid_load_en ? internal_vld : __internal_valid_reg;
      __out_valid_reg <= out_valid_load_en ? p1_inputs_valid : __out_valid_reg;
      p1_inputs_valid <= or_238 ? and_224 : p1_inputs_valid;
    end
  end
  assign internal_rdy = internal_load_en;
  assign out_vld = __out_valid_reg;
endmodule


module pipelined_proc(
  input wire clk,
  input wire rst,
  input wire in_vld,
  input wire out_rdy,
  output wire in_rdy,
  output wire out_vld
);
  wire instantiation_output_126;
  wire instantiation_output_132;
  wire instantiation_output_139;
  wire instantiation_output_144;
  wire instantiation_output_133;
  wire instantiation_output_138;

  // ===== Instantiations
  pipelined_proc__1 pipelined_proc__1_inst0 (
    .rst(rst),
    .in_vld(in_vld),
    .internal_rdy(instantiation_output_133),
    .in_rdy(instantiation_output_126),
    .internal_vld(instantiation_output_132),
    .clk(clk)
  );
  proc_out proc_out_inst1 (
    .rst(rst),
    .internal_vld(instantiation_output_138),
    .out_rdy(out_rdy),
    .internal_rdy(instantiation_output_139),
    .out_vld(instantiation_output_144),
    .clk(clk)
  );
  xls_nodata_fifo_wrapper #(
    .Depth(32'd1),
    .EnableBypass(1'd0),
    .RegisterPushOutputs(1'd1),
    .RegisterPopOutputs(1'd0)
  ) fifo_internal (
    .clk(clk),
    .rst(rst),
    .push_valid(instantiation_output_132),
    .pop_ready(instantiation_output_139),
    .push_ready(instantiation_output_133),
    .pop_valid(instantiation_output_138)
  );
  assign in_rdy = instantiation_output_126;
  assign out_vld = instantiation_output_144;
endmodule
