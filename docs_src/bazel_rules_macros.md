<!-- DO NOT EDIT THIS FILE -->
<!-- Generated with Stardoc: http://skydoc.bazel.build -->

# Bazel Rules And Macros

<!-- DO NOT REMOVE! Placeholder for TOC. -->

<a id="check_sha256sum_frozen"></a>

## check_sha256sum_frozen

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "check_sha256sum_frozen")

check_sha256sum_frozen(<a href="#check_sha256sum_frozen-name">name</a>, <a href="#check_sha256sum_frozen-src">src</a>, <a href="#check_sha256sum_frozen-frozen_file">frozen_file</a>, <a href="#check_sha256sum_frozen-sha256sum">sha256sum</a>)
</pre>

Produces a frozen file if the sha256sum checksum of a source file matches a user-defined checksum.

As projects cut releases or freeze, it's important to know that
generated (e.g. Verilog) code is never changing without having to
actually check in the generated artifact. This rule performs a checksum
of a generated file as an integrity check. Users might use this rule to
help enable confidence that there is neither:

*   non-determinism in the toolchain, nor
*   an accidental dependence on a non-released toolchain (e.g. an
    accidental dependence on top-of-tree, where the toolchain is
    constantly changing)

Say there was a codegen rule producing `my_output.v`, a user might instantiate
something like:

```
check_sha256sum_frozen(
    name = "my_output_checksum",
    src = ":my_output.v",
    sha256sum = "d1bc8d3ba4afc7e109612cb73acbdddac052c93025aa1f82942edabb7deb82a1",
    frozen_file = "my_output.frozen.x",
)
```

... and then take a dependency on `my_output.frozen.v` in the
surrounding project, knowing that it had been checksum-verified.

Taking a dependence on `my_output.v` directly may also be ok if the
`:my_output_checksum` target is also built (e.g. via the same wildcard
build request), but taking a dependence on the output `.frozen.v` file
ensures that the checking is an integral part of the downstream
build-artifact-creation process.

At its core, this rule ensure that the contents of a file does not
change by verifying that it matches a given checksum. Typically, this
rule is used to control the build process. The rule serves as a trigger
on rules depending on its output (the frozen file). When the validation
of the sha256sum succeed, rules depending on the frozen file are
built/executed. When the validation of the sha256sum fails, rules
depending on the frozen file are not built/executed.

In the example below, when the validation of the sha256sum for
target 'generated_file_sha256sum_frozen' succeeds, target
'generated_file_dslx' is built. However, when the validation of the
sha256sum for target 'generated_file_sha256sum_frozen' fails, target
'generated_file_dslx' is not built.

Examples:

1. A simple example.

    ```
    check_sha256sum_frozen(
        name = "generated_file_sha256sum_frozen",
        src = ":generated_file.x",
        sha256sum = "6522799f7b64dbbb2a31eb2862052b8988e78821d8b61fff7f508237a9d9f01d",
        frozen_file = "generated_file.frozen.x",
    )

    dslx_library(
        name = "generated_file_dslx",
        src = ":generated_file.frozen.x",
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="check_sha256sum_frozen-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="check_sha256sum_frozen-src"></a>src |  The source file.   | <a href="https://bazel.build/concepts/labels">Label</a> | required |  |
| <a id="check_sha256sum_frozen-frozen_file"></a>frozen_file |  The frozen output file.   | <a href="https://bazel.build/concepts/labels">Label</a> | required |  |
| <a id="check_sha256sum_frozen-sha256sum"></a>sha256sum |  The sha256sum of the source file.   | String | required |  |


<a id="check_sha256sum_test"></a>

## check_sha256sum_test

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "check_sha256sum_test")

check_sha256sum_test(<a href="#check_sha256sum_test-name">name</a>, <a href="#check_sha256sum_test-src">src</a>, <a href="#check_sha256sum_test-sha256sum">sha256sum</a>)
</pre>

Validates the sha256sum checksum of a source file with a user-defined checksum.

This rule is typically used to ensure that the contents of a file is
unchanged.

Examples:

1. A simple example.

    ```
    check_sha256sum_test(
        name = "generated_file_sha256sum_test",
        src = ":generated_file.x",
        sha256sum = "6522799f7b64dbbb2a31eb2862052b8988e78821d8b61fff7f508237a9d9f01d",
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="check_sha256sum_test-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="check_sha256sum_test-src"></a>src |  The source file.   | <a href="https://bazel.build/concepts/labels">Label</a> | required |  |
| <a id="check_sha256sum_test-sha256sum"></a>sha256sum |  The sha256sum of the source file.   | String | required |  |


<a id="proto_data"></a>

## proto_data

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "proto_data")

proto_data(<a href="#proto_data-name">name</a>, <a href="#proto_data-src">src</a>, <a href="#proto_data-proto_name">proto_name</a>, <a href="#proto_data-protobin_file">protobin_file</a>)
</pre>

Converts a proto text with a xlscc.HLSBlock message to a proto binary.

This rules is used in conjunction with the (e.g. xls_cc_ir and xls_cc_verilog)
rules and xls_cc_* (e.g. xls_cc_ir_macro and xls_cc_verilog_macro) macros.

Examples:

1. A simple example.

    ```
    proto_data(
        name = "packet_selector_block_pb",
        src = "packet_selector.textproto",
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="proto_data-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="proto_data-src"></a>src |  The source file.   | <a href="https://bazel.build/concepts/labels">Label</a> | required |  |
| <a id="proto_data-proto_name"></a>proto_name |  The name of the message type in the .proto files that 'src' file represents.   | String | optional |  `"xlscc.HLSBlock"`  |
| <a id="proto_data-protobin_file"></a>protobin_file |  The name of the output file to write binary proto to. If not specified, the target name of the bazel rule followed by a .protobin extension is used.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |


<a id="xls_benchmark_verilog"></a>

## xls_benchmark_verilog

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_benchmark_verilog")

xls_benchmark_verilog(<a href="#xls_benchmark_verilog-name">name</a>, <a href="#xls_benchmark_verilog-verilog_target">verilog_target</a>)
</pre>

Computes and prints various metrics about a Verilog target.

Example:
    ```
    xls_benchmark_verilog(
        name = "a_benchmark",
        verilog_target = "a_verilog_target",
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="xls_benchmark_verilog-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="xls_benchmark_verilog-verilog_target"></a>verilog_target |  The verilog target to benchmark.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |


<a id="xls_dslx_library"></a>

## xls_dslx_library

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_dslx_library")

xls_dslx_library(<a href="#xls_dslx_library-name">name</a>, <a href="#xls_dslx_library-deps">deps</a>, <a href="#xls_dslx_library-srcs">srcs</a>, <a href="#xls_dslx_library-warnings_as_errors">warnings_as_errors</a>)
</pre>

A build rule that parses and type checks DSLX source files.

Examples:

1. A collection of DSLX source files.

    ```
    xls_dslx_library(
        name = "files_123_dslx",
        srcs = [
            "file_1.x",
            "file_2.x",
            "file_3.x",
        ],
    )
    ```

1. Dependency on other xls_dslx_library targets.

    ```
    xls_dslx_library(
        name = "a_dslx",
        srcs = ["a.x"],
    )

    # Depends on target a_dslx.
    xls_dslx_library(
        name = "b_dslx",
        srcs = ["b.x"],
        deps = [":a_dslx"],
    )

    # Depends on target a_dslx.
    xls_dslx_library(
        name = "c_dslx",
        srcs = ["c.x"],
        deps = [":a_dslx"],
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="xls_dslx_library-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="xls_dslx_library-deps"></a>deps |  Dependency targets for the rule.   | <a href="https://bazel.build/concepts/labels">List of labels</a> | optional |  `[]`  |
| <a id="xls_dslx_library-srcs"></a>srcs |  Source files for the rule. Files must have a '.x' extension.   | <a href="https://bazel.build/concepts/labels">List of labels</a> | optional |  `[]`  |
| <a id="xls_dslx_library-warnings_as_errors"></a>warnings_as_errors |  Whether warnings are errors within this library definition.   | Boolean | optional |  `False`  |


<a id="xls_dslx_opt_ir_test"></a>

## xls_dslx_opt_ir_test

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_dslx_opt_ir_test")

xls_dslx_opt_ir_test(<a href="#xls_dslx_opt_ir_test-name">name</a>, <a href="#xls_dslx_opt_ir_test-benchmark_ir_args">benchmark_ir_args</a>, <a href="#xls_dslx_opt_ir_test-dep">dep</a>, <a href="#xls_dslx_opt_ir_test-dslx_test_args">dslx_test_args</a>, <a href="#xls_dslx_opt_ir_test-evaluator">evaluator</a>, <a href="#xls_dslx_opt_ir_test-expect_equivalent">expect_equivalent</a>,
                     <a href="#xls_dslx_opt_ir_test-input_validator">input_validator</a>, <a href="#xls_dslx_opt_ir_test-input_validator_expr">input_validator_expr</a>, <a href="#xls_dslx_opt_ir_test-ir_equivalence_args">ir_equivalence_args</a>, <a href="#xls_dslx_opt_ir_test-ir_eval_args">ir_eval_args</a>,
                     <a href="#xls_dslx_opt_ir_test-scheduling_options_proto">scheduling_options_proto</a>, <a href="#xls_dslx_opt_ir_test-top">top</a>)
</pre>

A build rule that tests a xls_dslx_opt_ir target.

Executes the test commands for the following rules in the order presented:

1. xls_dslx_test
1. xls_ir_equivalence_test
1. xls_eval_ir_test
1. xls_benchmark_ir

Examples:

1. A simple example.

    ```
    xls_dslx_opt_ir(
        name = "a_opt_ir",
        srcs = ["a.x"],
        dslx_top = "a",
    )

    xls_dslx_opt_ir_test(
        name = "a_opt_ir_test",
        dep = ":a_opt_ir",
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="xls_dslx_opt_ir_test-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="xls_dslx_opt_ir_test-benchmark_ir_args"></a>benchmark_ir_args |  Arguments of the benchmark IR tool. For details on the arguments, refer to the benchmark_main application at //xls/dev_tools/benchmark_main.cc.   | <a href="https://bazel.build/rules/lib/dict">Dictionary: String -> String</a> | optional |  `{}`  |
| <a id="xls_dslx_opt_ir_test-dep"></a>dep |  The xls_dslx_opt_ir target to test.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_dslx_opt_ir_test-dslx_test_args"></a>dslx_test_args |  Arguments of the DSLX interpreter executable. For details on the arguments, refer to the interpreter_main application at //xls/dslx/interpreter_main.cc.   | <a href="https://bazel.build/rules/lib/dict">Dictionary: String -> String</a> | optional |  `{}`  |
| <a id="xls_dslx_opt_ir_test-evaluator"></a>evaluator |  What type of evaluator to use. 'ir-jit' will execute the tests faster but has higher startup time and less helpful failure messages. Options: ["dslx-interpreter" (default), "ir-jit", "ir-interpreter"]. Note: The 'compare' dslx_test_arg is only available with the default 'dslx-interpreter' evaluator.   | String | optional |  `"dslx-interpreter"`  |
| <a id="xls_dslx_opt_ir_test-expect_equivalent"></a>expect_equivalent |  If true this test fails if IRs are not equivalent. If false the test only passes if the IRs are not equivalent.   | Boolean | optional |  `True`  |
| <a id="xls_dslx_opt_ir_test-input_validator"></a>input_validator |  The DSLX library defining the input validator for this test. Mutually exclusive with "input_validator_expr".   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_dslx_opt_ir_test-input_validator_expr"></a>input_validator_expr |  The expression to validate an input for the test function. Mutually exclusive with "input_validator".   | String | optional |  `""`  |
| <a id="xls_dslx_opt_ir_test-ir_equivalence_args"></a>ir_equivalence_args |  Arguments of the IR equivalence tool. For details on the arguments, refer to the check_ir_equivalence_main application at //xls/dev_tools/check_ir_equivalence_main.cc. The 'function' argument is not assigned using this attribute.   | <a href="https://bazel.build/rules/lib/dict">Dictionary: String -> String</a> | optional |  `{}`  |
| <a id="xls_dslx_opt_ir_test-ir_eval_args"></a>ir_eval_args |  Arguments of the IR interpreter. For details on the arguments, refer to the eval_ir_main application at //xls/tools/eval_ir_main.cc.The 'top' argument is not assigned using this attribute.   | <a href="https://bazel.build/rules/lib/dict">Dictionary: String -> String</a> | optional |  `{"random_inputs": "100", "optimize_ir": "true"}`  |
| <a id="xls_dslx_opt_ir_test-scheduling_options_proto"></a>scheduling_options_proto |  Protobuf filename of scheduling arguments to the benchmark IR tool. For details on the arguments, refer to the benchmark_main application at //xls/dev_tools/benchmark_main.cc.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_dslx_opt_ir_test-top"></a>top |  The (*mangled*) name of the entry point. See get_mangled_ir_symbol. Defines the 'top' argument of the IR tool/application.   | String | optional |  `""`  |


<a id="xls_dslx_prove_quickcheck_test"></a>

## xls_dslx_prove_quickcheck_test

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_dslx_prove_quickcheck_test")

xls_dslx_prove_quickcheck_test(<a href="#xls_dslx_prove_quickcheck_test-name">name</a>, <a href="#xls_dslx_prove_quickcheck_test-deps">deps</a>, <a href="#xls_dslx_prove_quickcheck_test-srcs">srcs</a>, <a href="#xls_dslx_prove_quickcheck_test-library">library</a>, <a href="#xls_dslx_prove_quickcheck_test-test_filter">test_filter</a>)
</pre>

Attempts to prove DSLX quickcheck properties with a SAT solver.

Examples:

1. xls_dslx_prove_quickcheck_test on DSLX source files.

    ```
    # Assume a xls_dslx_library target bc_dslx is present.
    xls_dslx_prove_quickcheck_test(
        name = "e_dslx_quickcheck_test",
        srcs = [
            "d.x",
            "e.x",
        ],
        deps = [":bc_dslx"],
    )
    ```

1. xls_dslx_prove_quickcheck_test on a xls_dslx_library.

    ```
    xls_dslx_library(
        name = "b_dslx",
        srcs = ["b.x"],
        deps = [":a_dslx"],
    )

    xls_dslx_prove_quickcheck_test(
        name = "b_dslx_test",
        library = "b_dslx",
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="xls_dslx_prove_quickcheck_test-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="xls_dslx_prove_quickcheck_test-deps"></a>deps |  Dependency targets for the files in the 'srcs' attribute. This attribute is mutually exclusive with the 'library' attribute.   | <a href="https://bazel.build/concepts/labels">List of labels</a> | optional |  `[]`  |
| <a id="xls_dslx_prove_quickcheck_test-srcs"></a>srcs |  Source files for the rule. The files must have a '.x' extension. This attribute is mutually exclusive with the 'library' attribute.   | <a href="https://bazel.build/concepts/labels">List of labels</a> | optional |  `[]`  |
| <a id="xls_dslx_prove_quickcheck_test-library"></a>library |  A DSLX library target where the direct (non-transitive) files of the target are tested. This attribute is mutually exclusive with the 'srcs' and 'deps' attribute.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_dslx_prove_quickcheck_test-test_filter"></a>test_filter |  Regex to select quickcheck tests to run.   | String | optional |  `""`  |


<a id="xls_dslx_test"></a>

## xls_dslx_test

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_dslx_test")

xls_dslx_test(<a href="#xls_dslx_test-name">name</a>, <a href="#xls_dslx_test-deps">deps</a>, <a href="#xls_dslx_test-srcs">srcs</a>, <a href="#xls_dslx_test-dslx_test_args">dslx_test_args</a>, <a href="#xls_dslx_test-evaluator">evaluator</a>, <a href="#xls_dslx_test-library">library</a>)
</pre>

A dslx test executes the tests and quick checks of a DSLX source file.

Examples:

1. xls_dslx_test on DSLX source files.

    ```
    # Assume a xls_dslx_library target bc_dslx is present.
    xls_dslx_test(
        name = "e_dslx_test",
        srcs = [
            "d.x",
            "e.x",
        ],
        deps = [":bc_dslx"],
    )
    ```

1. xls_dslx_test on a xls_dslx_library.

    ```
    xls_dslx_library(
        name = "b_dslx",
        srcs = ["b.x"],
        deps = [":a_dslx"],
    )

    xls_dslx_test(
        name = "b_dslx_test",
        library = "b_dslx",
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="xls_dslx_test-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="xls_dslx_test-deps"></a>deps |  Dependency targets for the files in the 'srcs' attribute. This attribute is mutually exclusive with the 'library' attribute.   | <a href="https://bazel.build/concepts/labels">List of labels</a> | optional |  `[]`  |
| <a id="xls_dslx_test-srcs"></a>srcs |  Source files for the rule. The files must have a '.x' extension. This attribute is mutually exclusive with the 'library' attribute.   | <a href="https://bazel.build/concepts/labels">List of labels</a> | optional |  `[]`  |
| <a id="xls_dslx_test-dslx_test_args"></a>dslx_test_args |  Arguments of the DSLX interpreter executable. For details on the arguments, refer to the interpreter_main application at //xls/dslx/interpreter_main.cc.   | <a href="https://bazel.build/rules/lib/dict">Dictionary: String -> String</a> | optional |  `{}`  |
| <a id="xls_dslx_test-evaluator"></a>evaluator |  What type of evaluator to use. 'ir-jit' will execute the tests faster but has higher startup time and less helpful failure messages. Options: ["dslx-interpreter" (default), "ir-jit", "ir-interpreter"]. Note: The 'compare' dslx_test_arg is only available with the default 'dslx-interpreter' evaluator.   | String | optional |  `"dslx-interpreter"`  |
| <a id="xls_dslx_test-library"></a>library |  A DSLX library target where the direct (non-transitive) files of the target are tested. This attribute is mutually exclusive with the 'srcs' and 'deps' attribute.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |


<a id="xls_eval_ir_test"></a>

## xls_eval_ir_test

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_eval_ir_test")

xls_eval_ir_test(<a href="#xls_eval_ir_test-name">name</a>, <a href="#xls_eval_ir_test-src">src</a>, <a href="#xls_eval_ir_test-input_validator">input_validator</a>, <a href="#xls_eval_ir_test-input_validator_expr">input_validator_expr</a>, <a href="#xls_eval_ir_test-ir_eval_args">ir_eval_args</a>, <a href="#xls_eval_ir_test-top">top</a>)
</pre>

Executes the IR interpreter on an IR file.

Examples:

1. A file as the source.

    ```
    xls_eval_ir_test(
        name = "a_eval_ir_test",
        src = "a.ir",
    )
    ```

1. An xls_ir_opt_ir target as the source.

    ```
    xls_ir_opt_ir(
        name = "a_opt_ir",
        src = "a.ir",
    )


    xls_eval_ir_test(
        name = "a_eval_ir_test",
        src = ":a_opt_ir",
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="xls_eval_ir_test-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="xls_eval_ir_test-src"></a>src |  The IR source file for the rule. A single source file must be provided. The file must have a '.ir' extension.   | <a href="https://bazel.build/concepts/labels">Label</a> | required |  |
| <a id="xls_eval_ir_test-input_validator"></a>input_validator |  The DSLX library defining the input validator for this test. Mutually exclusive with "input_validator_expr".   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_eval_ir_test-input_validator_expr"></a>input_validator_expr |  The expression to validate an input for the test function. Mutually exclusive with "input_validator".   | String | optional |  `""`  |
| <a id="xls_eval_ir_test-ir_eval_args"></a>ir_eval_args |  Arguments of the IR interpreter. For details on the arguments, refer to the eval_ir_main application at //xls/tools/eval_ir_main.cc.The 'top' argument is not assigned using this attribute.   | <a href="https://bazel.build/rules/lib/dict">Dictionary: String -> String</a> | optional |  `{"random_inputs": "100", "optimize_ir": "true"}`  |
| <a id="xls_eval_ir_test-top"></a>top |  The (*mangled*) name of the entry point. See get_mangled_ir_symbol. Defines the 'top' argument of the IR tool/application.   | String | optional |  `""`  |


<a id="xls_ir_equivalence_test"></a>

## xls_ir_equivalence_test

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_ir_equivalence_test")

xls_ir_equivalence_test(<a href="#xls_ir_equivalence_test-name">name</a>, <a href="#xls_ir_equivalence_test-expect_equivalent">expect_equivalent</a>, <a href="#xls_ir_equivalence_test-ir_equivalence_args">ir_equivalence_args</a>, <a href="#xls_ir_equivalence_test-src_0">src_0</a>, <a href="#xls_ir_equivalence_test-src_1">src_1</a>, <a href="#xls_ir_equivalence_test-top">top</a>)
</pre>

Executes the equivalence tool on two IR files.

Examples:

1. A file as the source.

    ```
    xls_ir_equivalence_test(
        name = "ab_ir_equivalence_test",
        src_0 = "a.ir",
        src_1 = "b.ir",
    )
    ```

1. A target as the source.

    ```
    xls_dslx_ir(
        name = "b_ir",
        srcs = ["b.x"],
    )

    xls_ir_equivalence_test(
        name = "ab_ir_equivalence_test",
        src_0 = "a.ir",
        src_1 = ":b_ir",
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="xls_ir_equivalence_test-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="xls_ir_equivalence_test-expect_equivalent"></a>expect_equivalent |  If true this test fails if IRs are not equivalent. If false the test only passes if the IRs are not equivalent.   | Boolean | optional |  `True`  |
| <a id="xls_ir_equivalence_test-ir_equivalence_args"></a>ir_equivalence_args |  Arguments of the IR equivalence tool. For details on the arguments, refer to the check_ir_equivalence_main application at //xls/dev_tools/check_ir_equivalence_main.cc. The 'function' argument is not assigned using this attribute.   | <a href="https://bazel.build/rules/lib/dict">Dictionary: String -> String</a> | optional |  `{}`  |
| <a id="xls_ir_equivalence_test-src_0"></a>src_0 |  An IR source file for the rule. A single source file must be provided. The file must have a '.ir' extension.   | <a href="https://bazel.build/concepts/labels">Label</a> | required |  |
| <a id="xls_ir_equivalence_test-src_1"></a>src_1 |  An IR source file for the rule. A single source file must be provided. The file must have a '.ir' extension.   | <a href="https://bazel.build/concepts/labels">Label</a> | required |  |
| <a id="xls_ir_equivalence_test-top"></a>top |  The (*mangled*) name of the entry point. See get_mangled_ir_symbol. Defines the 'top' argument of the IR tool/application.   | String | optional |  `""`  |


<a id="xls_ir_verilog_fdo"></a>

## xls_ir_verilog_fdo

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_ir_verilog_fdo")

xls_ir_verilog_fdo(<a href="#xls_ir_verilog_fdo-name">name</a>, <a href="#xls_ir_verilog_fdo-src">src</a>, <a href="#xls_ir_verilog_fdo-outs">outs</a>, <a href="#xls_ir_verilog_fdo-block_ir_file">block_ir_file</a>, <a href="#xls_ir_verilog_fdo-codegen_args">codegen_args</a>, <a href="#xls_ir_verilog_fdo-codegen_options_proto">codegen_options_proto</a>,
                   <a href="#xls_ir_verilog_fdo-module_sig_file">module_sig_file</a>, <a href="#xls_ir_verilog_fdo-schedule_file">schedule_file</a>, <a href="#xls_ir_verilog_fdo-schedule_ir_file">schedule_ir_file</a>, <a href="#xls_ir_verilog_fdo-scheduling_options_proto">scheduling_options_proto</a>,
                   <a href="#xls_ir_verilog_fdo-sta_tool">sta_tool</a>, <a href="#xls_ir_verilog_fdo-standard_cells">standard_cells</a>, <a href="#xls_ir_verilog_fdo-synthesizer_linear_interpolation_factor">synthesizer_linear_interpolation_factor</a>, <a href="#xls_ir_verilog_fdo-verilog_file">verilog_file</a>,
                   <a href="#xls_ir_verilog_fdo-verilog_line_map_file">verilog_line_map_file</a>, <a href="#xls_ir_verilog_fdo-yosys_tool">yosys_tool</a>)
</pre>

A build rule that generates a Verilog file from an IR file using
FDO (feedback-directed optimization).  Codegen args to activate FDO
and provide required dependencies are automatically provided.  Default
values for FDO parameters are provided but can be overridden in
"codegen_args {...}".

In FDO mode, the codegen_arg "clock_period_ps" MUST be provided.

Example:

    ```
    xls_ir_verilog_fdo(
        name = "a_verilog",
        src = "a.ir",
        codegen_args = {
            "clock_period_ps": "750",
            "fdo_iteration_number": "5",
            ...
        },
    )
    ```

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="xls_ir_verilog_fdo-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="xls_ir_verilog_fdo-src"></a>src |  The IR source file for the rule. A single source file must be provided. The file must have a '.ir' extension.   | <a href="https://bazel.build/concepts/labels">Label</a> | required |  |
| <a id="xls_ir_verilog_fdo-outs"></a>outs |  The list of generated files.   | List of strings | optional |  `[]`  |
| <a id="xls_ir_verilog_fdo-block_ir_file"></a>block_ir_file |  The filename of block-level IR file generated during codegen. If not specified, the basename of the Verilog file followed by a .block.ir extension is used.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_ir_verilog_fdo-codegen_args"></a>codegen_args |  Arguments of the codegen tool. For details on the arguments, refer to the codegen_main application at //xls/tools/codegen_main.cc.   | <a href="https://bazel.build/rules/lib/dict">Dictionary: String -> String</a> | optional |  `{}`  |
| <a id="xls_ir_verilog_fdo-codegen_options_proto"></a>codegen_options_proto |  Filename of a protobuf with arguments of the codegen tool. For details on the arguments, refer to the codegen_main application at //xls/tools/codegen_main.cc.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_ir_verilog_fdo-module_sig_file"></a>module_sig_file |  The filename of module signature of the generated Verilog file. If not specified, the basename of the Verilog file followed by a .sig.textproto extension is used.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_ir_verilog_fdo-schedule_file"></a>schedule_file |  The filename of schedule of the generated Verilog file.If not specified, the basename of the Verilog file followed by a .schedule.textproto extension is used.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_ir_verilog_fdo-schedule_ir_file"></a>schedule_ir_file |  The filename of scheduled IR file generated during scheduled. If not specified, the basename of the Verilog file followed by a .schedule.opt.ir extension is used.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_ir_verilog_fdo-scheduling_options_proto"></a>scheduling_options_proto |  Filename of a protobuf with scheduling options arguments of the codegen tool. For details on the arguments, refer to the codegen_main application at //xls/tools/codegen_main.cc.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_ir_verilog_fdo-sta_tool"></a>sta_tool |  -   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `"@org_theopenroadproject//:opensta"`  |
| <a id="xls_ir_verilog_fdo-standard_cells"></a>standard_cells |  -   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `"@com_google_skywater_pdk_sky130_fd_sc_hd//:sky130_fd_sc_hd"`  |
| <a id="xls_ir_verilog_fdo-synthesizer_linear_interpolation_factor"></a>synthesizer_linear_interpolation_factor |  -   | String | optional |  `""`  |
| <a id="xls_ir_verilog_fdo-verilog_file"></a>verilog_file |  The filename of Verilog file generated. The filename must have a v extension.   | <a href="https://bazel.build/concepts/labels">Label</a> | required |  |
| <a id="xls_ir_verilog_fdo-verilog_line_map_file"></a>verilog_line_map_file |  The filename of line map for the generated Verilog file.If not specified, the basename of the Verilog file followed by a .verilog_line_map.textproto extension is used.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_ir_verilog_fdo-yosys_tool"></a>yosys_tool |  -   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `"//third_party/yosys"`  |


<a id="xls_model_generation"></a>

## xls_model_generation

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_model_generation")

xls_model_generation(<a href="#xls_model_generation-name">name</a>, <a href="#xls_model_generation-samples_file">samples_file</a>, <a href="#xls_model_generation-standard_cells">standard_cells</a>)
</pre>

Builds a script to generate an XLS estimator model of a metric for one PDK corner.
The metric can be either area or delay.

This rule gathers the locations of the required dependencies
(Yosys, OpenSTA, helper scripts, and cell libraries) and
generates a wrapper script that invokes "run_op_characterization"
with the dependency locations provided as args.

Any extra runtime args will get passed in to the
"run_op_characterization" script (e.g. "--debug" or "--quick_run").

The script must be "run" from the root of the workspace
to perform the op characterization.  The output textproto
will be produced in the current directory (which, as just
stated, must be the root of the workspace).

Currently, only a subset of XLS operators are characterized,
including most arithmetic, logical, and shift operators.
However, many common operators such as "concat", "bit_slice",
and "encode" are missing, and so the delay model that is
currently produced should be considered INCOMPLETE.

**ATTRIBUTES**


| Name  | Description | Type | Mandatory | Default |
| :------------- | :------------- | :------------- | :------------- | :------------- |
| <a id="xls_model_generation-name"></a>name |  A unique name for this target.   | <a href="https://bazel.build/concepts/labels#target-names">Name</a> | required |  |
| <a id="xls_model_generation-samples_file"></a>samples_file |  Proto providing sample points.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |
| <a id="xls_model_generation-standard_cells"></a>standard_cells |  Target for the PDK; will use the target's default corner.   | <a href="https://bazel.build/concepts/labels">Label</a> | optional |  `None`  |


<a id="cc_xls_ir_jit_wrapper"></a>

## cc_xls_ir_jit_wrapper

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "cc_xls_ir_jit_wrapper")

cc_xls_ir_jit_wrapper(<a href="#cc_xls_ir_jit_wrapper-name">name</a>, <a href="#cc_xls_ir_jit_wrapper-src">src</a>, <a href="#cc_xls_ir_jit_wrapper-jit_wrapper_args">jit_wrapper_args</a>, <a href="#cc_xls_ir_jit_wrapper-wrapper_type">wrapper_type</a>, <a href="#cc_xls_ir_jit_wrapper-top">top</a>, <a href="#cc_xls_ir_jit_wrapper-kwargs">**kwargs</a>)
</pre>

Invokes the JIT wrapper generator and compiles the result as a cc_library.

The macro invokes the JIT wrapper generator on an IR source file. The
generated source files are the inputs to a cc_library with its target name
identical to this macro.


**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="cc_xls_ir_jit_wrapper-name"></a>name |  The name of the cc_library target.   |  none |
| <a id="cc_xls_ir_jit_wrapper-src"></a>src |  The path to the IR file.   |  none |
| <a id="cc_xls_ir_jit_wrapper-jit_wrapper_args"></a>jit_wrapper_args |  Arguments of the JIT wrapper tool. Note: argument 'output_name' cannot be defined.   |  `{}` |
| <a id="cc_xls_ir_jit_wrapper-wrapper_type"></a>wrapper_type |  The type of XLS construct to wrap. Must be one of 'BLOCK', 'FUNCTION', or 'PROC'. You should use the exported FUNCTION_WRAPPER_TYPE, BLOCK_WRAPPER_TYPE, or PROC_WRAPPER_TYPE symbols. Defaults to FUNCTION_WRAPPER_TYPE for compatibility.   |  `"FUNCTION"` |
| <a id="cc_xls_ir_jit_wrapper-top"></a>top |  Name of the top function/proc/block.   |  `""` |
| <a id="cc_xls_ir_jit_wrapper-kwargs"></a>kwargs |  Keyword arguments. Named arguments.   |  none |


<a id="get_mangled_ir_symbol"></a>

## get_mangled_ir_symbol

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "get_mangled_ir_symbol")

get_mangled_ir_symbol(<a href="#get_mangled_ir_symbol-module_name">module_name</a>, <a href="#get_mangled_ir_symbol-function_name">function_name</a>, <a href="#get_mangled_ir_symbol-parametric_values">parametric_values</a>, <a href="#get_mangled_ir_symbol-is_implicit_token">is_implicit_token</a>,
                      <a href="#get_mangled_ir_symbol-is_proc_next">is_proc_next</a>)
</pre>

Returns the mangled IR symbol for the module/function combination.

"Mangling" is the process of turning nicely namedspaced symbols into
"grosser" (mangled) flat (non hierarchical) symbol, e.g. that lives on a
package after IR conversion. To retrieve/execute functions that have been IR
converted, we use their mangled names to refer to them in the IR namespace.


**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="get_mangled_ir_symbol-module_name"></a>module_name |  The DSLX module name that the function is within.   |  none |
| <a id="get_mangled_ir_symbol-function_name"></a>function_name |  The DSLX function name within the module.   |  none |
| <a id="get_mangled_ir_symbol-parametric_values"></a>parametric_values |  Any parametric values used for instantiation (e.g. for a parametric entry point that is known to be instantiated in the IR converted module). This is generally for more advanced use cases like internals testing. The argument is mutually exclusive with argument 'is_proc_next'.   |  `None` |
| <a id="get_mangled_ir_symbol-is_implicit_token"></a>is_implicit_token |  A boolean flag denoting whether the symbol contains an implicit token. The argument is mutually exclusive with argument 'is_proc_next'.   |  `False` |
| <a id="get_mangled_ir_symbol-is_proc_next"></a>is_proc_next |  A boolean flag denoting whether the symbol is a next proc function. The argument is mutually exclusive with arguments: 'parametric_values' and 'is_implicit_token'.   |  `False` |

**RETURNS**

The "mangled" symbol string.


<a id="xls_benchmark_ir"></a>

## xls_benchmark_ir

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_benchmark_ir")

xls_benchmark_ir(<a href="#xls_benchmark_ir-name">name</a>, <a href="#xls_benchmark_ir-src">src</a>, <a href="#xls_benchmark_ir-synthesize">synthesize</a>, <a href="#xls_benchmark_ir-codegen_args">codegen_args</a>, <a href="#xls_benchmark_ir-benchmark_ir_args">benchmark_ir_args</a>, <a href="#xls_benchmark_ir-standard_cells">standard_cells</a>, <a href="#xls_benchmark_ir-tags">tags</a>,
                 <a href="#xls_benchmark_ir-ir_tags">ir_tags</a>, <a href="#xls_benchmark_ir-synth_tags">synth_tags</a>, <a href="#xls_benchmark_ir-kwargs">**kwargs</a>)
</pre>

Executes the benchmark tool on an IR file.

Examples:

1. A file as the source.

    ```
    xls_benchmark_ir(
        name = "a_benchmark",
        src = "a.ir",
    )
    ```

1. An xls_ir_opt_ir target as the source.

    ```
    xls_ir_opt_ir(
        name = "a_opt_ir",
        src = "a.ir",
    )


    xls_benchmark_ir(
        name = "a_benchmark",
        src = ":a_opt_ir",
    )
    ```

    Args:
        name: A unique name for this target.
        src: The IR source file for the rule. A single source file must be provided. The file must
          have a '.ir' extension.
        synthesize: Add a synthesis benchmark in addition to the IR benchmark.
        codegen_args: Arguments of the codegen tool. For details on the arguments,
          refer to the codegen_main application at
          //xls/tools/codegen_main.cc.
        benchmark_ir_args: Arguments of the benchmark IR tool. For details on the arguments, refer
          to the benchmark_main application at //xls/dev_tools/benchmark_main.cc.
        standard_cells: Label for the PDK (possibly specifying a
          non-default corner), with the assumption that $location will
          return the timing (Liberty) library for the PDK corner. Unused if synthesize == False.
        tags: Tags for IR and synthesis benchmark targets.
        ir_tags: Tags for the IR benchmark target only.
        synth_tags: Tags for the synthesis and synthesis benchmark targets. Unused if synthesize == False.
        **kwargs: Keyword arguments for the IR benchmark target only.

**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="xls_benchmark_ir-name"></a>name |  <p align="center"> - </p>   |  none |
| <a id="xls_benchmark_ir-src"></a>src |  <p align="center"> - </p>   |  none |
| <a id="xls_benchmark_ir-synthesize"></a>synthesize |  <p align="center"> - </p>   |  `True` |
| <a id="xls_benchmark_ir-codegen_args"></a>codegen_args |  <p align="center"> - </p>   |  `{}` |
| <a id="xls_benchmark_ir-benchmark_ir_args"></a>benchmark_ir_args |  <p align="center"> - </p>   |  `{}` |
| <a id="xls_benchmark_ir-standard_cells"></a>standard_cells |  <p align="center"> - </p>   |  `None` |
| <a id="xls_benchmark_ir-tags"></a>tags |  <p align="center"> - </p>   |  `None` |
| <a id="xls_benchmark_ir-ir_tags"></a>ir_tags |  <p align="center"> - </p>   |  `None` |
| <a id="xls_benchmark_ir-synth_tags"></a>synth_tags |  <p align="center"> - </p>   |  `None` |
| <a id="xls_benchmark_ir-kwargs"></a>kwargs |  <p align="center"> - </p>   |  none |


<a id="xls_dslx_cpp_type_library"></a>

## xls_dslx_cpp_type_library

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_dslx_cpp_type_library")

xls_dslx_cpp_type_library(<a href="#xls_dslx_cpp_type_library-name">name</a>, <a href="#xls_dslx_cpp_type_library-src">src</a>, <a href="#xls_dslx_cpp_type_library-deps">deps</a>, <a href="#xls_dslx_cpp_type_library-namespace">namespace</a>)
</pre>

Creates a cc_library target for transpiled DSLX types.

This macros invokes the DSLX-to-C++ transpiler and compiles the result as
a cc_library with its target name identical to this macro.


**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="xls_dslx_cpp_type_library-name"></a>name |  The name of the eventual cc_library.   |  none |
| <a id="xls_dslx_cpp_type_library-src"></a>src |  The DSLX file whose types to compile as C++.   |  none |
| <a id="xls_dslx_cpp_type_library-deps"></a>deps |  <p align="center"> - </p>   |  `[]` |
| <a id="xls_dslx_cpp_type_library-namespace"></a>namespace |  The C++ namespace to generate the code in (e.g., `foo::bar`).   |  `None` |


<a id="xls_dslx_fmt_test"></a>

## xls_dslx_fmt_test

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_dslx_fmt_test")

xls_dslx_fmt_test(<a href="#xls_dslx_fmt_test-name">name</a>, <a href="#xls_dslx_fmt_test-src">src</a>, <a href="#xls_dslx_fmt_test-opportunistic_postcondition">opportunistic_postcondition</a>)
</pre>

Creates a test target that confirms `src` is auto-formatted.

**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="xls_dslx_fmt_test-name"></a>name |  Name of the (diff) test target this will emit.   |  none |
| <a id="xls_dslx_fmt_test-src"></a>src |  Source file to auto-format.   |  none |
| <a id="xls_dslx_fmt_test-opportunistic_postcondition"></a>opportunistic_postcondition |  Flag that checks whether the output text is highly similar to the input text. Note that sometimes this /can/ flag an error for some set of valid auto-formattings, so is intended primarily for use as a development/debugging tool.   |  `False` |


<a id="xls_dslx_ir"></a>

## xls_dslx_ir

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_dslx_ir")

xls_dslx_ir(<a href="#xls_dslx_ir-name">name</a>, <a href="#xls_dslx_ir-dslx_top">dslx_top</a>, <a href="#xls_dslx_ir-srcs">srcs</a>, <a href="#xls_dslx_ir-deps">deps</a>, <a href="#xls_dslx_ir-library">library</a>, <a href="#xls_dslx_ir-ir_conv_args">ir_conv_args</a>, <a href="#xls_dslx_ir-enable_generated_file">enable_generated_file</a>,
            <a href="#xls_dslx_ir-enable_presubmit_generated_file">enable_presubmit_generated_file</a>, <a href="#xls_dslx_ir-kwargs">**kwargs</a>)
</pre>

A macro that instantiates a build rule converting a DSLX source file to an IR file.

The macro instantiates a rule that converts a DSLX source file to an IR
file. The macro also instantiates the 'enable_generated_file_wrapper'
function. The generated files are listed in the outs attribute of the rule.

Example:

An IR conversion with a top entity defined.

    ```
    # Assume a xls_dslx_library target bc_dslx is present.
    xls_dslx_ir(
        name = "d_ir",
        srcs = ["d.x"],
        deps = [":bc_dslx"],
        dslx_top = "d",
    )
    ```


**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="xls_dslx_ir-name"></a>name |  The name of the rule.   |  none |
| <a id="xls_dslx_ir-dslx_top"></a>dslx_top |  The top entity to perform the IR conversion.   |  none |
| <a id="xls_dslx_ir-srcs"></a>srcs |  Top level source files for the conversion. Files must have a '.x' extension. There must be single source file.   |  `None` |
| <a id="xls_dslx_ir-deps"></a>deps |  Dependency targets for the files in the 'srcs' argument.   |  `None` |
| <a id="xls_dslx_ir-library"></a>library |  A DSLX library target where the direct (non-transitive) files of the target are tested. This argument is mutually exclusive with the 'srcs' and 'deps' arguments.   |  `None` |
| <a id="xls_dslx_ir-ir_conv_args"></a>ir_conv_args |  Arguments of the IR conversion tool. For details on the arguments, refer to the ir_converter_main application at //xls/dslx/ir_convert/ir_converter_main.cc. Note: the 'top' argument is not assigned using this attribute.   |  `{}` |
| <a id="xls_dslx_ir-enable_generated_file"></a>enable_generated_file |  See 'enable_generated_file' from 'enable_generated_file_wrapper' function.   |  `True` |
| <a id="xls_dslx_ir-enable_presubmit_generated_file"></a>enable_presubmit_generated_file |  See 'enable_presubmit_generated_file' from 'enable_generated_file_wrapper' function.   |  `False` |
| <a id="xls_dslx_ir-kwargs"></a>kwargs |  Keyword arguments. Named arguments.   |  none |


<a id="xls_dslx_opt_ir"></a>

## xls_dslx_opt_ir

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_dslx_opt_ir")

xls_dslx_opt_ir(<a href="#xls_dslx_opt_ir-name">name</a>, <a href="#xls_dslx_opt_ir-dslx_top">dslx_top</a>, <a href="#xls_dslx_opt_ir-srcs">srcs</a>, <a href="#xls_dslx_opt_ir-deps">deps</a>, <a href="#xls_dslx_opt_ir-library">library</a>, <a href="#xls_dslx_opt_ir-ir_conv_args">ir_conv_args</a>, <a href="#xls_dslx_opt_ir-opt_ir_args">opt_ir_args</a>,
                <a href="#xls_dslx_opt_ir-enable_generated_file">enable_generated_file</a>, <a href="#xls_dslx_opt_ir-enable_presubmit_generated_file">enable_presubmit_generated_file</a>, <a href="#xls_dslx_opt_ir-kwargs">**kwargs</a>)
</pre>

A macro that instantiates a build rule generating an optimized IR file from a DSLX source file.

The macro instantiates a build rule that generates an optimized IR file from
a DSLX source file. The build rule executes the core functionality of
following macros:

1. xls_dslx_ir (converts a DSLX file to an IR), and,
1. xls_ir_opt_ir (optimizes the IR).

The macro also instantiates the 'enable_generated_file_wrapper'
function. The generated files are listed in the outs attribute of the rule.

Examples:

1. A simple example.

    ```
    # Assume a xls_dslx_library target bc_dslx is present.
    xls_dslx_opt_ir(
        name = "d_opt_ir",
        srcs = ["d.x"],
        deps = [":bc_dslx"],
        dslx_top = "d",
    )
    ```


**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="xls_dslx_opt_ir-name"></a>name |  The name of the rule.   |  none |
| <a id="xls_dslx_opt_ir-dslx_top"></a>dslx_top |  The top entity to perform the IR conversion.   |  none |
| <a id="xls_dslx_opt_ir-srcs"></a>srcs |  Top level source files for the conversion. Files must have a '.x' extension. There must be single source file.   |  `None` |
| <a id="xls_dslx_opt_ir-deps"></a>deps |  Dependency targets for the files in the 'srcs' argument.   |  `None` |
| <a id="xls_dslx_opt_ir-library"></a>library |  A DSLX library target where the direct (non-transitive) files of the target are tested. This argument is mutually exclusive with the 'srcs' and 'deps' arguments.   |  `None` |
| <a id="xls_dslx_opt_ir-ir_conv_args"></a>ir_conv_args |  Arguments of the IR conversion tool. For details on the arguments, refer to the ir_converter_main application at //xls/dslx/ir_convert/ir_converter_main.cc. Note: the 'top' argument is not assigned using this attribute.   |  `{}` |
| <a id="xls_dslx_opt_ir-opt_ir_args"></a>opt_ir_args |  Arguments of the IR optimizer tool. For details on the arguments, refer to the opt_main application at //xls/tools/opt_main.cc. Note: the 'top' argument is not assigned using this attribute.   |  `{}` |
| <a id="xls_dslx_opt_ir-enable_generated_file"></a>enable_generated_file |  See 'enable_generated_file' from 'enable_generated_file_wrapper' function.   |  `True` |
| <a id="xls_dslx_opt_ir-enable_presubmit_generated_file"></a>enable_presubmit_generated_file |  See 'enable_presubmit_generated_file' from 'enable_generated_file_wrapper' function.   |  `False` |
| <a id="xls_dslx_opt_ir-kwargs"></a>kwargs |  Keyword arguments. Named arguments.   |  none |


<a id="xls_dslx_verilog"></a>

## xls_dslx_verilog

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_dslx_verilog")

xls_dslx_verilog(<a href="#xls_dslx_verilog-name">name</a>, <a href="#xls_dslx_verilog-dslx_top">dslx_top</a>, <a href="#xls_dslx_verilog-verilog_file">verilog_file</a>, <a href="#xls_dslx_verilog-srcs">srcs</a>, <a href="#xls_dslx_verilog-deps">deps</a>, <a href="#xls_dslx_verilog-library">library</a>, <a href="#xls_dslx_verilog-ir_conv_args">ir_conv_args</a>, <a href="#xls_dslx_verilog-opt_ir_args">opt_ir_args</a>,
                 <a href="#xls_dslx_verilog-codegen_args">codegen_args</a>, <a href="#xls_dslx_verilog-enable_generated_file">enable_generated_file</a>, <a href="#xls_dslx_verilog-enable_presubmit_generated_file">enable_presubmit_generated_file</a>, <a href="#xls_dslx_verilog-kwargs">**kwargs</a>)
</pre>

A macro that instantiates a build rule generating a Verilog file from a DSLX source file and tests the build.

The macro instantiates a build rule that generates a Verilog file from a DSLX source file. The
build rule executes the core functionality of following macros:

1. xls_dslx_ir (converts a DSLX file to an IR),
1. xls_ir_opt_ir (optimizes the IR), and,
1. xls_ir_verilog (generated a Verilog file).

The macro also instantiates a 'build_test' testing that the build rule generating a Verilog
file. If the build is not successful, an error is produced when executing a test command on the
target.

Examples:

1. A simple example.

    ```
    # Assume a xls_dslx_library target bc_dslx is present.
    xls_dslx_verilog(
        name = "d_verilog",
        srcs = ["d.x"],
        deps = [":bc_dslx"],
        codegen_args = {
            "pipeline_stages": "1",
        },
        dslx_top = "d",
    )
    ```


**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="xls_dslx_verilog-name"></a>name |  The name of the rule.   |  none |
| <a id="xls_dslx_verilog-dslx_top"></a>dslx_top |  The top entity to perform the IR conversion.   |  none |
| <a id="xls_dslx_verilog-verilog_file"></a>verilog_file |  The filename of Verilog file generated. The filename must have a '.v' extension.   |  none |
| <a id="xls_dslx_verilog-srcs"></a>srcs |  Top level source files for the conversion. Files must have a '.x' extension. There must be single source file.   |  `None` |
| <a id="xls_dslx_verilog-deps"></a>deps |  Dependency targets for the files in the 'srcs' argument.   |  `None` |
| <a id="xls_dslx_verilog-library"></a>library |  A DSLX library target where the direct (non-transitive) files of the target are tested. This argument is mutually exclusive with the 'srcs' and 'deps' arguments.   |  `None` |
| <a id="xls_dslx_verilog-ir_conv_args"></a>ir_conv_args |  Arguments of the IR conversion tool. For details on the arguments, refer to the ir_converter_main application at //xls/dslx/ir_convert/ir_converter_main.cc. Note: the 'top' argument is not assigned using this attribute.   |  `{}` |
| <a id="xls_dslx_verilog-opt_ir_args"></a>opt_ir_args |  Arguments of the IR optimizer tool. For details on the arguments, refer to the opt_main application at //xls/tools/opt_main.cc. Note: the 'top' argument is not assigned using this attribute.   |  `{}` |
| <a id="xls_dslx_verilog-codegen_args"></a>codegen_args |  Arguments of the codegen tool. For details on the arguments, refer to the codegen_main application at //xls/tools/codegen_main.cc.   |  `{}` |
| <a id="xls_dslx_verilog-enable_generated_file"></a>enable_generated_file |  See 'enable_generated_file' from 'enable_generated_file_wrapper' function.   |  `True` |
| <a id="xls_dslx_verilog-enable_presubmit_generated_file"></a>enable_presubmit_generated_file |  See 'enable_presubmit_generated_file' from 'enable_generated_file_wrapper' function.   |  `False` |
| <a id="xls_dslx_verilog-kwargs"></a>kwargs |  Keyword arguments. Named arguments.   |  none |


<a id="xls_ir_cc_library"></a>

## xls_ir_cc_library

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_ir_cc_library")

xls_ir_cc_library(<a href="#xls_ir_cc_library-name">name</a>, <a href="#xls_ir_cc_library-src">src</a>, <a href="#xls_ir_cc_library-top">top</a>, <a href="#xls_ir_cc_library-namespaces">namespaces</a>)
</pre>

Invokes the AOT compiles the input IR into a cc_library.

Example:

```
xls_ir_opt_ir(
    name "foo",
    ...
)

xls_ir_cc_library_macro(
    name = "foo_cc",
    src = ":foo.opt.ir",
    top = "bar",
    namespaces = "a,b,c",
)
```

This will produce a cc_library that will execute the fn `bar` from the
`foo` IR file. The call itself will be inside the namespace `a::b::c`.


**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="xls_ir_cc_library-name"></a>name |  The name of the resulting library.   |  none |
| <a id="xls_ir_cc_library-src"></a>src |  The path to the IR file to compile.   |  none |
| <a id="xls_ir_cc_library-top"></a>top |  The entry point in the IR file of interest.   |  `None` |
| <a id="xls_ir_cc_library-namespaces"></a>namespaces |  A comma-separated list of namespaces into which the generated code should go.   |  `""` |


<a id="xls_ir_opt_ir"></a>

## xls_ir_opt_ir

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_ir_opt_ir")

xls_ir_opt_ir(<a href="#xls_ir_opt_ir-name">name</a>, <a href="#xls_ir_opt_ir-src">src</a>, <a href="#xls_ir_opt_ir-opt_ir_args">opt_ir_args</a>, <a href="#xls_ir_opt_ir-enable_generated_file">enable_generated_file</a>, <a href="#xls_ir_opt_ir-enable_presubmit_generated_file">enable_presubmit_generated_file</a>,
              <a href="#xls_ir_opt_ir-debug_srcs">debug_srcs</a>, <a href="#xls_ir_opt_ir-kwargs">**kwargs</a>)
</pre>

A macro that instantiates a build rule optimizing an IR file.

The macro instantiates a build rule that optimizes an IR file. The macro
also instantiates the 'enable_generated_file_wrapper' function. The
generated files are listed in the outs attribute of the rule.

Examples:

1.  A simple example.

    ```
    xls_ir_opt_ir(
        name = "a_opt_ir",
        src = "a.ir",
    )
    ```

1.  Optimizing an IR file with a top entity defined.

    ```
    xls_ir_opt_ir(
        name = "a_opt_ir",
        src = "a.ir",
        opt_ir_args = {
            "inline_procs" : "true",
        },
    )
    ```


**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="xls_ir_opt_ir-name"></a>name |  The name of the rule.   |  none |
| <a id="xls_ir_opt_ir-src"></a>src |  The IR source file. A single source file must be provided. The file must have a '.ir' extension.   |  none |
| <a id="xls_ir_opt_ir-opt_ir_args"></a>opt_ir_args |  Arguments of the IR optimizer tool. For details on the arguments, refer to the opt_main application at //xls/tools/opt_main.cc. Note: the 'top' argument is not assigned using this attribute.   |  `{}` |
| <a id="xls_ir_opt_ir-enable_generated_file"></a>enable_generated_file |  See 'enable_generated_file' from 'enable_generated_file_wrapper' function.   |  `True` |
| <a id="xls_ir_opt_ir-enable_presubmit_generated_file"></a>enable_presubmit_generated_file |  See 'enable_presubmit_generated_file' from 'enable_generated_file_wrapper' function.   |  `False` |
| <a id="xls_ir_opt_ir-debug_srcs"></a>debug_srcs |  List of additional source files for debugging info. Allows opt_main to correctly display lines from original source file (e.g. the .cc file before the xlscc pass) when an error occurs.   |  `[]` |
| <a id="xls_ir_opt_ir-kwargs"></a>kwargs |  Keyword arguments. Named arguments.   |  none |


<a id="xls_ir_verilog"></a>

## xls_ir_verilog

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_ir_verilog")

xls_ir_verilog(<a href="#xls_ir_verilog-name">name</a>, <a href="#xls_ir_verilog-src">src</a>, <a href="#xls_ir_verilog-verilog_file">verilog_file</a>, <a href="#xls_ir_verilog-codegen_args">codegen_args</a>, <a href="#xls_ir_verilog-codegen_options_proto">codegen_options_proto</a>,
               <a href="#xls_ir_verilog-scheduling_options_proto">scheduling_options_proto</a>, <a href="#xls_ir_verilog-enable_generated_file">enable_generated_file</a>, <a href="#xls_ir_verilog-enable_presubmit_generated_file">enable_presubmit_generated_file</a>,
               <a href="#xls_ir_verilog-kwargs">**kwargs</a>)
</pre>

A macro that instantiates a build rule generating a Verilog file from an IR file and tests the build.

The macro instantiates a build rule that generate a Verilog file from an IR file, and a
'build_test' testing that the build rule generating a Verilog file. If the build is not
successful, an error is produced when executing a test command on the target.

Example:

    ```
    xls_ir_verilog(
        name = "a_verilog",
        src = "a.ir",
        codegen_args = {
            "pipeline_stages": "1",
            ...
        },
    )
    ```


**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="xls_ir_verilog-name"></a>name |  The name of the rule.   |  none |
| <a id="xls_ir_verilog-src"></a>src |  The IR source file. A single source file must be provided. The file must have a '.ir' extension.   |  none |
| <a id="xls_ir_verilog-verilog_file"></a>verilog_file |  The filename of Verilog file generated. The filename must have a '.v' or '.sv', extension.   |  none |
| <a id="xls_ir_verilog-codegen_args"></a>codegen_args |  Arguments of the codegen tool. For details on the arguments, refer to the codegen_main application at //xls/tools/codegen_main.cc.   |  `{}` |
| <a id="xls_ir_verilog-codegen_options_proto"></a>codegen_options_proto |  Filename of a protobuf with arguments of the codegen tool. For details on the arguments, refer to the codegen_main application at //xls/tools/codegen_main.cc.   |  `None` |
| <a id="xls_ir_verilog-scheduling_options_proto"></a>scheduling_options_proto |  Filename of a protobuf with scheduling options arguments of the codegen tool. For details on the arguments, refer to the codegen_main application at //xls/tools/codegen_main.cc.   |  `None` |
| <a id="xls_ir_verilog-enable_generated_file"></a>enable_generated_file |  See 'enable_generated_file' from 'enable_generated_file_wrapper' function.   |  `True` |
| <a id="xls_ir_verilog-enable_presubmit_generated_file"></a>enable_presubmit_generated_file |  See 'enable_presubmit_generated_file' from 'enable_generated_file_wrapper' function.   |  `False` |
| <a id="xls_ir_verilog-kwargs"></a>kwargs |  Keyword arguments. Named arguments.   |  none |


<a id="xls_synthesis_metrics"></a>

## xls_synthesis_metrics

<pre>
load("//xls/build_rules:xls_build_defs.bzl", "xls_synthesis_metrics")

xls_synthesis_metrics(<a href="#xls_synthesis_metrics-name">name</a>, <a href="#xls_synthesis_metrics-srcs">srcs</a>, <a href="#xls_synthesis_metrics-kwargs">**kwargs</a>)
</pre>

Gather per-pipeline-stage metrics from log files.

Gather per-stage post-synth metrics from the provided logs
(from Yosys or OpenSTA) and save them in a "DesignStats" textproto.
Recognized metrics from Yosys log:
  Total cell area (um^2).
  Logic levels
  Cell count
  Flop count
Recognized metrics from OpenSTA log:
  Critical path delay (ps)
  Critical path start point
  Critical path end point


**PARAMETERS**


| Name  | Description | Default Value |
| :------------- | :------------- | :------------- |
| <a id="xls_synthesis_metrics-name"></a>name |  Output "DesignStats" textproto will be `<name>.textproto`   |  none |
| <a id="xls_synthesis_metrics-srcs"></a>srcs |  Targets from which log files will be scanned. For post-synth, use "synthesize_rtl" and "run_opensta" targets.   |  none |
| <a id="xls_synthesis_metrics-kwargs"></a>kwargs |  Accepts add'l keyword arguments. Passed to native.genrule().   |  none |


